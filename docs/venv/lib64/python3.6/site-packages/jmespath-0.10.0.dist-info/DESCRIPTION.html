

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>JMESPath &mdash; T-Vecs 1 documentation</title>
  

  
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/graphviz.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script src="../../../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../../index.html" class="icon icon-home" alt="Documentation Home"> T-Vecs
          

          
          </a>

          
            
            
              <div class="version">
                1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Usage Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../README.html">T-Vecs</a></li>
</ul>
<p class="caption"><span class="caption-text">Development Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../_dev_docs/modules.html">tvecs</a></li>
</ul>
<p class="caption"><span class="caption-text">Testing Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../_test_docs/modules.html">tests</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">T-Vecs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>JMESPath</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../../../_sources/venv/lib64/python3.6/site-packages/jmespath-0.10.0.dist-info/DESCRIPTION.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="jmespath">
<h1>JMESPath<a class="headerlink" href="#jmespath" title="Permalink to this headline">¶</a></h1>
<a class="reference external image-reference" href="https://gitter.im/jmespath/chat"><img alt="https://badges.gitter.im/JoinChat.svg" src="https://badges.gitter.im/JoinChat.svg" /></a>
<a class="reference external image-reference" href="https://travis-ci.org/jmespath/jmespath.py"><img alt="https://travis-ci.org/jmespath/jmespath.py.svg?branch=develop" src="https://travis-ci.org/jmespath/jmespath.py.svg?branch=develop" /></a>
<a class="reference external image-reference" href="https://codecov.io/github/jmespath/jmespath.py?branch=develop"><img alt="https://codecov.io/github/jmespath/jmespath.py/coverage.svg?branch=develop" src="https://codecov.io/github/jmespath/jmespath.py/coverage.svg?branch=develop" /></a>
<p>JMESPath (pronounced “james path”) allows you to declaratively specify how to
extract elements from a JSON document.</p>
<p>For example, given this document:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="s2">&quot;baz&quot;</span><span class="p">}}</span>
</pre></div>
</div>
<p>The jmespath expression <code class="docutils literal notranslate"><span class="pre">foo.bar</span></code> will return “baz”.</p>
<p>JMESPath also supports:</p>
<p>Referencing elements in a list.  Given the data:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;one&quot;</span><span class="p">,</span> <span class="s2">&quot;two&quot;</span><span class="p">]}}</span>
</pre></div>
</div>
<p>The expression: <code class="docutils literal notranslate"><span class="pre">foo.bar[0]</span></code> will return “one”.
You can also reference all the items in a list using the <code class="docutils literal notranslate"><span class="pre">*</span></code>
syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;one&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;two&quot;</span><span class="p">}]}}</span>
</pre></div>
</div>
<p>The expression: <code class="docutils literal notranslate"><span class="pre">foo.bar[*].name</span></code> will return [“one”, “two”].
Negative indexing is also supported (-1 refers to the last element
in the list).  Given the data above, the expression
<code class="docutils literal notranslate"><span class="pre">foo.bar[-1].name</span></code> will return “two”.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">*</span></code> can also be used for hash types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;one&quot;</span><span class="p">},</span> <span class="s2">&quot;baz&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;two&quot;</span><span class="p">}}}</span>
</pre></div>
</div>
<p>The expression: <code class="docutils literal notranslate"><span class="pre">foo.*.name</span></code> will return [“one”, “two”].</p>
</div>
<div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>You can install JMESPath from pypi with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install jmespath
</pre></div>
</div>
</div>
<div class="section" id="api">
<h1>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">jmespath.py</span></code> library has two functions
that operate on python data structures.  You can use <code class="docutils literal notranslate"><span class="pre">search</span></code>
and give it the jmespath expression and the data:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">jmespath</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">jmespath</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;foo.bar&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;bar&#39;</span><span class="p">:</span> <span class="s1">&#39;baz&#39;</span><span class="p">}})</span>
<span class="go">&#39;baz&#39;</span>
</pre></div>
</div>
<p>Similar to the <code class="docutils literal notranslate"><span class="pre">re</span></code> module, you can use the <code class="docutils literal notranslate"><span class="pre">compile</span></code> function
to compile the JMESPath expression and use this parsed expression
to perform repeated searches:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">jmespath</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expression</span> <span class="o">=</span> <span class="n">jmespath</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">&#39;foo.bar&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expression</span><span class="o">.</span><span class="n">search</span><span class="p">({</span><span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;bar&#39;</span><span class="p">:</span> <span class="s1">&#39;baz&#39;</span><span class="p">}})</span>
<span class="go">&#39;baz&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expression</span><span class="o">.</span><span class="n">search</span><span class="p">({</span><span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;bar&#39;</span><span class="p">:</span> <span class="s1">&#39;other&#39;</span><span class="p">}})</span>
<span class="go">&#39;other&#39;</span>
</pre></div>
</div>
<p>This is useful if you’re going to use the same jmespath expression to
search multiple documents.  This avoids having to reparse the
JMESPath expression each time you search a new document.</p>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<p>You can provide an instance of <code class="docutils literal notranslate"><span class="pre">jmespath.Options</span></code> to control how
a JMESPath expression is evaluated.  The most common scenario for
using an <code class="docutils literal notranslate"><span class="pre">Options</span></code> instance is if you want to have ordered output
of your dict keys.  To do this you can use either of these options:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">jmespath</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jmespath</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;{a: a, b: b}&#39;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">mydata</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">jmespath</span><span class="o">.</span><span class="n">Options</span><span class="p">(</span><span class="n">dict_cls</span><span class="o">=</span><span class="n">collections</span><span class="o">.</span><span class="n">OrderedDict</span><span class="p">))</span>


<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">jmespath</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parsed</span> <span class="o">=</span> <span class="n">jmespath</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">&#39;{a: a, b: b}&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parsed</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">mydata</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">jmespath</span><span class="o">.</span><span class="n">Options</span><span class="p">(</span><span class="n">dict_cls</span><span class="o">=</span><span class="n">collections</span><span class="o">.</span><span class="n">OrderedDict</span><span class="p">))</span>
</pre></div>
</div>
<div class="section" id="custom-functions">
<h3>Custom Functions<a class="headerlink" href="#custom-functions" title="Permalink to this headline">¶</a></h3>
<p>The JMESPath language has numerous
<a class="reference external" href="http://jmespath.org/specification.html#built-in-functions">built-in functions</a>, but it is
also possible to add your own custom functions.  Keep in mind that
custom function support in jmespath.py is experimental and the API may
change based on feedback.</p>
<p><strong>If you have a custom function that you’ve found useful, consider submitting
it to jmespath.site and propose that it be added to the JMESPath language.</strong>
You can submit proposals
<a class="reference external" href="https://github.com/jmespath/jmespath.site/issues">here</a>.</p>
<p>To create custom functions:</p>
<ul class="simple">
<li><p>Create a subclass of <code class="docutils literal notranslate"><span class="pre">jmespath.functions.Functions</span></code>.</p></li>
<li><p>Create a method with the name <code class="docutils literal notranslate"><span class="pre">_func_&lt;your</span> <span class="pre">function</span> <span class="pre">name&gt;</span></code>.</p></li>
<li><p>Apply the <code class="docutils literal notranslate"><span class="pre">jmespath.functions.signature</span></code> decorator that indicates
the expected types of the function arguments.</p></li>
<li><p>Provide an instance of your subclass in a <code class="docutils literal notranslate"><span class="pre">jmespath.Options</span></code> object.</p></li>
</ul>
<p>Below are a few examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">jmespath</span>
<span class="kn">from</span> <span class="nn">jmespath</span> <span class="kn">import</span> <span class="n">functions</span>

<span class="c1"># 1. Create a subclass of functions.Functions.</span>
<span class="c1">#    The function.Functions base class has logic</span>
<span class="c1">#    that introspects all of its methods and automatically</span>
<span class="c1">#    registers your custom functions in its function table.</span>
<span class="k">class</span> <span class="nc">CustomFunctions</span><span class="p">(</span><span class="n">functions</span><span class="o">.</span><span class="n">Functions</span><span class="p">):</span>

    <span class="c1"># 2 and 3.  Create a function that starts with _func_</span>
    <span class="c1"># and decorate it with @signature which indicates its</span>
    <span class="c1"># expected types.</span>
    <span class="c1"># In this example, we&#39;re creating a jmespath function</span>
    <span class="c1"># called &quot;unique_letters&quot; that accepts a single argument</span>
    <span class="c1"># with an expected type &quot;string&quot;.</span>
    <span class="nd">@functions</span><span class="o">.</span><span class="n">signature</span><span class="p">({</span><span class="s1">&#39;types&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;string&#39;</span><span class="p">]})</span>
    <span class="k">def</span> <span class="nf">_func_unique_letters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
        <span class="c1"># Given a string s, return a sorted</span>
        <span class="c1"># string of unique letters: &#39;ccbbadd&#39; -&gt;  &#39;abcd&#39;</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">s</span><span class="p">)))</span>

    <span class="c1"># Here&#39;s another example.  This is creating</span>
    <span class="c1"># a jmespath function called &quot;my_add&quot; that expects</span>
    <span class="c1"># two arguments, both of which should be of type number.</span>
    <span class="nd">@functions</span><span class="o">.</span><span class="n">signature</span><span class="p">({</span><span class="s1">&#39;types&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;number&#39;</span><span class="p">]},</span> <span class="p">{</span><span class="s1">&#39;types&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;number&#39;</span><span class="p">]})</span>
    <span class="k">def</span> <span class="nf">_func_my_add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>

<span class="c1"># 4. Provide an instance of your subclass in a Options object.</span>
<span class="n">options</span> <span class="o">=</span> <span class="n">jmespath</span><span class="o">.</span><span class="n">Options</span><span class="p">(</span><span class="n">custom_functions</span><span class="o">=</span><span class="n">CustomFunctions</span><span class="p">())</span>

<span class="c1"># Provide this value to jmespath.search:</span>
<span class="c1"># This will print 3</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="n">jmespath</span><span class="o">.</span><span class="n">search</span><span class="p">(</span>
        <span class="s1">&#39;my_add(`1`, `2`)&#39;</span><span class="p">,</span> <span class="p">{},</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># This will print &quot;abcd&quot;</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="n">jmespath</span><span class="o">.</span><span class="n">search</span><span class="p">(</span>
        <span class="s1">&#39;foo.bar | unique_letters(@)&#39;</span><span class="p">,</span>
        <span class="p">{</span><span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;bar&#39;</span><span class="p">:</span> <span class="s1">&#39;ccbbadd&#39;</span><span class="p">}},</span>
        <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Again, if you come up with useful functions that you think make
sense in the JMESPath language (and make sense to implement in all
JMESPath libraries, not just python), please let us know at
<a class="reference external" href="https://github.com/jmespath/jmespath.site/issues">jmespath.site</a>.</p>
</div>
</div>
</div>
<div class="section" id="specification">
<h1>Specification<a class="headerlink" href="#specification" title="Permalink to this headline">¶</a></h1>
<p>If you’d like to learn more about the JMESPath language, you can check out
the <a class="reference external" href="http://jmespath.org/tutorial.html">JMESPath tutorial</a>.  Also check
out the <a class="reference external" href="http://jmespath.org/examples.html">JMESPath examples page</a> for
examples of more complex jmespath queries.</p>
<p>The grammar is specified using ABNF, as described in
<a class="reference external" href="http://www.ietf.org/rfc/rfc4234.txt">RFC4234</a>.
You can find the most up to date
<a class="reference external" href="http://jmespath.org/specification.html#grammar">grammar for JMESPath here</a>.</p>
<p>You can read the full
<a class="reference external" href="http://jmespath.org/specification.html">JMESPath specification here</a>.</p>
</div>
<div class="section" id="testing">
<h1>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h1>
<p>In addition to the unit tests for the jmespath modules,
there is a <code class="docutils literal notranslate"><span class="pre">tests/compliance</span></code> directory that contains
.json files with test cases.  This allows other implementations
to verify they are producing the correct output.  Each json
file is grouped by feature.</p>
</div>
<div class="section" id="discuss">
<h1>Discuss<a class="headerlink" href="#discuss" title="Permalink to this headline">¶</a></h1>
<p>Join us on our <a class="reference external" href="https://gitter.im/jmespath/chat">Gitter channel</a>
if you want to chat or if you have any questions.</p>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2016, Kshitij Karthick, Ravi Kumar L, Prateeksha, Prarthana Sannamani

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>